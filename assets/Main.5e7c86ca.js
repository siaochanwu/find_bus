import{u as D,g as s,h as N,w as B,r as y,o as i,i as r,j as E,k as a,l as m,v as F,F as _,m as f,n as b,p as k,q as w,t as x,s as S}from"./vendor.e2e3cf20.js";import{_ as M,N as j,j as H}from"./sha.35964100.js";const V={components:{Nav:j},setup(){const h=D(),t=s(""),C=s(""),u=s(""),p=s("route"),l=s([]),d=s([{name:"\u81FA\u4E2D\u5E02",value:"Taichung"},{name:"\u57FA\u9686\u5E02",value:"Keelung"},{name:"\u65B0\u7AF9\u7E23",value:"HsinchuCounty"},{name:"\u82D7\u6817\u7E23",value:"MiaoliCounty"},{name:"\u5F70\u5316\u7E23",value:"ChanghuaCounty"},{name:"\u65B0\u5317\u5E02",value:"NewTaipei"},{name:"\u5357\u6295\u7E23",value:"NantouCounty"},{name:"\u96F2\u6797\u7E23",value:"YunlinCounty"},{name:"\u5609\u7FA9\u7E23",value:"ChiayiCounty"},{name:"\u5609\u7FA9\u5E02",value:"Chiayi"},{name:"\u5C4F\u6771\u7E23",value:"PingtungCounty"},{name:"\u5B9C\u862D\u7E23",value:"YilanCounty"},{name:"\u82B1\u84EE\u7E23",value:"HualienCounty"},{name:"\u81FA\u6771\u7E23",value:"TaitungCounty"},{name:"\u91D1\u9580\u7E23",value:"KinmenCounty"},{name:"\u6F8E\u6E56\u7E23",value:"PenghuCounty"},{name:"\u6843\u5712\u5E02",value:"Taoyuan"},{name:"\u81FA\u5317\u5E02",value:"Taipei"},{name:"\u81FA\u5357\u5E02",value:"Tainan"},{name:"\u9AD8\u96C4\u5E02",value:"Kaohsiung"}]);function c(){let n="b0e9d82cf5c14e9cba3c9af305157476",o="gP76fsO3D7xW4VitN4ekhlwgDqU",g=new Date().toUTCString(),v=new H("SHA-1","TEXT");v.setHMACKey(o,"TEXT"),v.update("x-date: "+g);let T=v.getHMAC("B64");return{Authorization:'hmac username="'+n+'", algorithm="hmac-sha1", headers="x-date", signature="'+T+'"',"X-Date":g}}function e(n){fetch(`https://ptx.transportdata.tw/MOTC/v2/Bus/Route/City/${n}?&format=JSON`,{headers:c()}).then(o=>o.json()).then(o=>{l.value=o})}const A=N(()=>u.value!==""?l.value.filter(n=>n.RouteName.Zh_tw.match(u.value)):l.value);return B(t,(n,o)=>{t.value!==""&&(h.dispatch("SELECTCOUNTRY",t.value),e(t.value))}),{selectCountry:t,selectBus:C,filter:u,searchBus:A,busOptions:l,country:d,radio:p,getCityBus:e}}},O={class:"bg-gray-100 h-screen w-full"},R=a("h1",{class:"my-5 text-indigo-600 text-3xl font-black"},"\u627E\u516C\u8ECA",-1),K={class:"shadow-lg rounded-xl bg-white w-11/12 md:w-5/12 mx-auto p-5 text-indigo-700 font-bold mb-3"},U={class:""},z=w("\u67E5\u8DEF\u7DDA "),Z=w("\u67E5\u7AD9\u724C "),P={class:"my-3"},X=a("option",{value:"",disabled:""},"\u7E23\u5E02",-1),Y=["value"],q={class:"shadow-lg rounded-xl bg-white w-11/12 md:w-5/12 mx-auto"},L={class:"flex flex-wrap mt-5 p-5 justify-center h-80 overflow-y-auto"},G={class:"m-3 p-2 text-white bg-indigo-600 rounded-xl"};function I(h,t,C,u,p,l){const d=y("Nav"),c=y("router-link");return i(),r("div",O,[E(d),a("div",null,[R,a("div",K,[a("div",U,[a("input",{type:"radio",name:"radio",value:"route",id:"",class:"mx-2",checked:"",onClick:t[0]||(t[0]=e=>u.radio="route")}),z,a("input",{type:"radio",name:"radio",value:"step",id:"",class:"mx-2",onClick:t[1]||(t[1]=e=>u.radio="step")}),Z]),a("div",P,[m(a("select",{name:"",id:"select",class:"w-full p-3 rounded-lg bg-gray-100","onUpdate:modelValue":t[2]||(t[2]=e=>u.selectCountry=e)},[X,(i(!0),r(_,null,f(u.country,e=>(i(),r("option",{value:e.value,key:e.value},x(e.name),9,Y))),128))],512),[[F,u.selectCountry]])]),a("div",null,[m(a("input",{class:"w-full p-2 rounded-lg bg-gray-100",type:"text",placeholder:"\u641C\u5C0B","onUpdate:modelValue":t[3]||(t[3]=e=>u.filter=e)},null,512),[[b,u.filter]])])]),a("div",q,[m(a("div",L,[(i(!0),r(_,null,f(u.searchBus,e=>(i(),r("div",{class:"w-4/12 md:w-3/12",key:e.RouteName.Zh_tw},[E(c,{to:`/route/${e.RouteName.Zh_tw}`},{default:S(()=>[a("div",G,x(e.RouteName.Zh_tw),1)]),_:2},1032,["to"])]))),128))],512),[[k,u.radio=="route"&&u.searchBus.length>0]])])])])}var $=M(V,[["render",I]]);export{$ as default};
